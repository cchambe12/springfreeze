dupl<- attempt %>%
select(ID, Year) %>%
filter(row_number()==1)
View(dupl)
dupl<- attempt %>%
select(Year, ID) %>%
filter(row_number()==1)
phases<-c("Breaking leaf buds","Leaves")
phenology<-phenology%>%
select(Genus, Species, Individual_ID, Phenophase_Description, First_Yes_DOY, First_Yes_Year, Latitude, Longitude)%>%
unite(species, Genus, Species, sep="_") %>%
filter(Phenophase_Description %in% phases) %>%
rename(Year = First_Yes_Year)
spp<-as.data.frame(table(phenology$species))
d<-phenology%>%
filter(Year=="2010")%>%
arrange(Individual_ID) %>%
spread(Phenophase_Description, First_Yes_DOY) %>%
filter(row_number()==1)
d<-phenology%>%
filter(Year=="2010")%>%
arrange(Individual_ID) %>%
spread(Phenophase_Description, First_Yes_DOY)
d<-phenology%>%
filter(Year=="2010")%>%
arrange(Individual_ID) %>%
filter(row_number()==1)
View(phenology)
phenology<-phenology%>%
select(Genus, Species, Individual_ID, Phenophase_Description, First_Yes_DOY, First_Yes_Year, Latitude, Longitude)%>%
unite(species, Genus, Species, sep="_") %>%
filter(Phenophase_Description %in% phases) %>%
rename(Year = First_Yes_Year)
setwd("~/Documents/git/springfreeze")
phenology<-read.csv("input/individual_phenometrics_data.csv",header=TRUE, sep=",")
attach(phenology)
phases<-c("Breaking leaf buds","Leaves")
phenology<-phenology%>%
select(Genus, Species, Individual_ID, Phenophase_Description, First_Yes_DOY, First_Yes_Year, Latitude, Longitude)%>%
unite(species, Genus, Species, sep="_") %>%
filter(Phenophase_Description %in% phases) %>%
rename(Year = First_Yes_Year)
View(phenology)
spp<-as.data.frame(table(phenology$species))
d<-phenology%>%
filter(Year=="2010")%>%
arrange(Individual_ID) %>%
filter(row_number()==1)
spread(d,Phenophase_Description, First_Yes_DOY)
d<-phenology%>%
filter(Year=="2010")%>%
arrange(Individual_ID) %>%
filter(row_number()==1) %>%
spread(Phenophase_Description, First_Yes_DOY)
View(d)
View(phenology)
d<-phenology%>%
filter(Year=="2010")%>%
arrange(Individual_ID) %>%
spread(Phenophase_Description, First_Yes_DOY)
View(d)
d<-phenology%>%
filter(Year=="2010")%>%
arrange(Individual_ID) %>%
filter(row_number()==1)
View(d)
d<-phenology%>%
filter(Year=="2010")%>%
group_by(species, Individual_ID, Latitude, Longitude)%>%
arrange(Individual_ID) %>%
filter(row_number()==1)
View(d)
d<-phenology%>%
filter(Year=="2010")%>%
group_by(species, Individual_ID, Latitude, Longitude)%>%
arrange(Individual_ID) %>%
filter(row_number()==1) %>%
spread(Phenophase_Description, First_Yes_DOY)
View(d)
d<-phenology%>%
filter(Year=="2010")%>%
group_by(species, Individual_ID, Phenophase_Description)%>%
arrange(Individual_ID) %>%
filter(row_number()==1) %>%
spread(Phenophase_Description, First_Yes_DOY)
View(d)
d<-phenology%>%
filter(Year=="2010")%>%
group_by(species, Individual_ID, Phenophase_Description)%>%
arrange(Individual_ID) %>%
filter(row_number()==1) %>%
spread(Phenophase_Description, First_Yes_DOY) %>%
filter(Breaking leaf buds == is.na) %>%
filter(Leaves == is.na)
d<-phenology%>%
filter(Year=="2010")%>%
group_by(species, Individual_ID, Phenophase_Description)%>%
arrange(Individual_ID) %>%
filter(row_number()==1) %>%
spread(Phenophase_Description, First_Yes_DOY) %>%
filter(is.na(Breaking leaf buds)) %>%
filter(is.na(Leaves))
d<-phenology%>%
filter(Year=="2010")%>%
group_by(species, Individual_ID, Phenophase_Description)%>%
arrange(Individual_ID) %>%
filter(row_number()==1) %>%
spread(Phenophase_Description, First_Yes_DOY)
remove<- d %>%
filter(is.na(Breaking leaf buds)) %>%
filter(is.na(Leaves))
d<-phenology%>%
filter(Year=="2010")%>%
group_by(species, Individual_ID, Phenophase_Description)%>%
arrange(Individual_ID) %>%
filter(row_number()==1) %>%
spread(Phenophase_Description, First_Yes_DOY) %>%
rename(BB = Breaking leaf buds)
d<-phenology%>%
filter(Year=="2010")%>%
group_by(species, Individual_ID, Phenophase_Description)%>%
arrange(Individual_ID) %>%
filter(row_number()==1) %>%
spread(Phenophase_Description, First_Yes_DOY) %>%
rename(BB = Breaking,leaf,buds)
d<-phenology%>%
filter(Year=="2010")%>%
group_by(species, Individual_ID, Phenophase_Description)%>%
arrange(Individual_ID) %>%
filter(row_number()==1) %>%
spread(Phenophase_Description, First_Yes_DOY) %>%
with(header=TRUE)
d<-phenology%>%
filter(Year=="2010")%>%
group_by(species, Individual_ID, Phenophase_Description)%>%
arrange(Individual_ID) %>%
filter(row_number()==1) %>%
spread(Phenophase_Description, First_Yes_DOY) %>%
rename(BB == V6)
d<-phenology%>%
filter(Year=="2010")%>%
group_by(species, Individual_ID, Phenophase_Description)%>%
arrange(Individual_ID) %>%
filter(row_number()==1) %>%
spread(Phenophase_Description, First_Yes_DOY) %>%
rename(Budburst == V6)
d<-phenology%>%
filter(Year=="2010")%>%
group_by(species, Individual_ID, Phenophase_Description)%>%
arrange(Individual_ID) %>%
filter(row_number()==1) %>%
spread(Phenophase_Description, First_Yes_DOY) %>%
rename(Budburst == Breakingleafbuds)
phases<-c(as.character("Breaking leaf buds","Leaves"))
phenology<-phenology%>%
select(Genus, Species, Individual_ID, Phenophase_Description, First_Yes_DOY, First_Yes_Year, Latitude, Longitude)%>%
unite(species, Genus, Species, sep="_") %>%
filter(Phenophase_Description %in% phases) %>%
rename(Year = First_Yes_Year)
phenology<-read.csv("input/individual_phenometrics_data.csv",header=TRUE, sep=",")
attach(phenology)
phases<-c(as.character("Breaking leaf buds","Leaves"))
phenology<-phenology%>%
select(Genus, Species, Individual_ID, Phenophase_Description, First_Yes_DOY, First_Yes_Year, Latitude, Longitude)%>%
unite(species, Genus, Species, sep="_") %>%
filter(Phenophase_Description %in% phases) %>%
rename(Year = First_Yes_Year)
spp<-as.data.frame(table(phenology$species))
d<-phenology%>%
filter(Year=="2010")%>%
group_by(species, Individual_ID, Phenophase_Description)%>%
arrange(Individual_ID) %>%
filter(row_number()==1) %>%
spread(Phenophase_Description, First_Yes_DOY) %>%
rename(Budburst == Breaking leaf buds)
setwd("~/Documents/git/springfreeze")
phenology<-read.csv("input/individual_phenometrics_data.csv",header=TRUE, sep=",")
attach(phenology)
phases<-c("Breaking leaf buds","Leaves")
phenology<-phenology%>%
select(Genus, Species, Individual_ID, Phenophase_Description, First_Yes_DOY, First_Yes_Year, Latitude, Longitude)%>%
unite(species, Genus, Species, sep="_") %>%
filter(Phenophase_Description %in% phases) %>%
rename(Year = First_Yes_Year)
spp<-as.data.frame(table(phenology$species))
d<-phenology%>%
filter(Year=="2010")%>%
group_by(species, Individual_ID, Phenophase_Description)%>%
arrange(Individual_ID) %>%
filter(row_number()==1) %>%
spread(Phenophase_Description, First_Yes_DOY) %>%
rename(Budburst == Breaking leaf buds)
d<-phenology%>%
filter(Year=="2010")%>%
group_by(species, Individual_ID, Phenophase_Description)%>%
arrange(Individual_ID) %>%
filter(row_number()==1) %>%
spread(Phenophase_Description, First_Yes_DOY)
d<-phenology%>%
filter(Year=="2010")%>%
group_by(species, Individual_ID, Phenophase_Description)%>%
arrange(Individual_ID) %>%
filter(row_number()==1) %>%
spread(Phenophase_Description, First_Yes_DOY) %>%
rename(leafout == Leaves)
remove<- d %>%
rename(Budburst == Breaking leaf buds)
remove<- d %>%
rename(Budburst = Breaking leaf buds)
remove<- d %>%
rename(Leafout = Leaves)
View(remove)
setwd("~/Documents/git/springfreeze")
phenology<-read.csv("input/individual_phenometrics_data.csv",header=TRUE, sep=",")
attach(phenology)
phases<-c("Budburst","Leaves")
phenology<-phenology%>%
select(Genus, Species, Individual_ID, Phenophase_Description, First_Yes_DOY, First_Yes_Year, Latitude, Longitude)%>%
unite(species, Genus, Species, sep="_") %>%
filter(Phenophase_Description %in% phases) %>%
rename(Year = First_Yes_Year)
spp<-as.data.frame(table(phenology$species))
d<-phenology%>%
filter(Year=="2010")%>%
group_by(species, Individual_ID, Phenophase_Description)%>%
arrange(Individual_ID) %>%
filter(row_number()==1) %>%
spread(Phenophase_Description, First_Yes_DOY)
remove<- d %>%
filter(is.na(Budburst)) %>%
filter(is.na(Leaves))
View(remove)
View(d)
d$Risk<- d$Leaves - d$budburst, na.rm=TRUE
d$Risk<- ifelse(!is.na(d$Leaves), d$Leaves) - ifelse(!is.na(d$Budburst), d$Budburst)
d$Risk <- ifelse(is.na(d$Leaves),0,d$Leaves) -ifelse(is.na(d$Budburst),0,d$Budburst)
View(d)
d <- d[!is.na(d)]
d <- !is.na(d)
d$Risk <- d$Leaves - d$Budburst
d<-phenology%>%
filter(Year=="2010")%>%
group_by(species, Individual_ID, Phenophase_Description)%>%
arrange(Individual_ID) %>%
filter(row_number()==1) %>%
spread(Phenophase_Description, First_Yes_DOY)
d<-na.omit(d)
d$Risk <- d$Leaves - d$Budburst
View(d)
spp<-as.data.frame(table(d$species))
View(spp)
setwd("~/Documents/git/springfreeze")
phenology<-read.csv("input/individual_phenometrics_data.csv",header=TRUE, sep=",")
attach(phenology)
phases<-c("Budburst","Leaves")
phenology<-phenology%>%
select(Genus, Species, Individual_ID, Phenophase_Description, First_Yes_DOY, First_Yes_Year, Latitude, Longitude)%>%
unite(species, Genus, Species, sep="_") %>%
filter(Phenophase_Description %in% phases) %>%
rename(Year = First_Yes_Year)
spp<-as.data.frame(table(phenology$species))
d<-phenology%>%
filter(Year=="2010")%>%
group_by(species, Individual_ID, Phenophase_Description)%>%
arrange(Individual_ID) %>%
filter(row_number()==1) %>%
spread(Phenophase_Description, First_Yes_DOY)
d<-na.omit(d)
d$Risk <- d$Leaves - d$Budburst
sp<-as.data.frame(table(d$species))
rm(list=ls()) # remove everything currently held in the R memory
options(stringsAsFactors=FALSE)
graphics.off()
# Load libraries
library(dplyr)
library(tidyr)
library(ggplot2)
# Set Working Directory
setwd("~/Documents/git/springfreeze")
phenology<-read.csv("input/individual_phenometrics_data.csv",header=TRUE, sep=",")
attach(phenology)
phases<-c("Budburst","Leaves")
phenology<-phenology%>%
select(Genus, Species, Individual_ID, Phenophase_Description, First_Yes_DOY, First_Yes_Year, Latitude, Longitude)%>%
unite(species, Genus, Species, sep="_") %>%
filter(Phenophase_Description %in% phases) %>%
rename(Year = First_Yes_Year)
spp<-as.data.frame(table(phenology$species))
d<-phenology%>%
filter(Year=="2010")%>%
group_by(species, Individual_ID, Phenophase_Description)%>%
arrange(Individual_ID) %>%
filter(row_number()==1) %>%
spread(Phenophase_Description, First_Yes_DOY)
d<-na.omit(d)
d$Risk <- d$Leaves - d$Budburst
sp<-as.data.frame(table(d$species))
View(d)
df<- d %>%
select(species, Risk) %>%
group_by(species) %>%
summarise_each(funs(mean), Risk) %>%
arrange(species)
View(df)
d$Risk > 0
d<- d$Risk > 0
setwd("~/Documents/git/springfreeze")
phenology<-read.csv("input/individual_phenometrics_data.csv",header=TRUE, sep=",")
attach(phenology)
phases<-c("Budburst","Leaves")
phenology<-phenology%>%
select(Genus, Species, Individual_ID, Phenophase_Description, First_Yes_DOY, First_Yes_Year, Latitude, Longitude)%>%
unite(species, Genus, Species, sep="_") %>%
filter(Phenophase_Description %in% phases) %>%
rename(Year = First_Yes_Year)
spp<-as.data.frame(table(phenology$species))
d<-phenology%>%
filter(Year=="2010")%>%
group_by(species, Individual_ID, Phenophase_Description)%>%
arrange(Individual_ID) %>%
filter(row_number()==1) %>%
spread(Phenophase_Description, First_Yes_DOY)
d<-na.omit(d)
d$Risk <- d$Leaves - d$Budburst
filter(d, Risk > 0)
d<-filter(d, Risk > 0)
sp<-as.data.frame(table(d$species))
df<- d %>%
select(species, Risk) %>%
group_by(species) %>%
summarise_each(funs(mean), Risk) %>%
arrange(species)
View(df)
ggplot(d, (aes(species, Risk)), xlab="Species", ylab="Risk")
ggplot(d, (aes(species, Risk)), xlab="Species", ylab="Risk") + geom_bar(stat="identify")
ggplot(d, (aes(species, Risk)), xlab="Species", ylab="Risk") + geom_bar()
ggplot(d, (species, Risk)), xlab="Species", ylab="Risk") + geom_bar()
ggplot(d, species, Risk), xlab="Species", ylab="Risk") + geom_bar()
ggplot(d, species, Risk, xlab="Species", ylab="Risk") + geom_bar()
ggplot(df, species, Risk, xlab="Species", ylab="Risk") + geom_bar()
plot(species, Risk)
plot(data=df, species, Risk)
ggplot(df,aes(x=species,y=Risk, fill=factor(species))) +
geom_bar(stat = "identity" , position="dodge") +
xlab("Species")+ylab("Level of Risk")
setwd("~/Documents/git/springfreeze")
phenology<-read.csv("input/individual_phenometrics_data.csv",header=TRUE, sep=",")
attach(phenology)
phases<-c("Budburst","Leaves")
phenology<-phenology%>%
select(Genus, Species, Individual_ID, Phenophase_Description, First_Yes_DOY, First_Yes_Year, Latitude, Longitude)%>%
unite(species, Genus, Species, sep="_") %>%
filter(Phenophase_Description %in% phases) %>%
rename(Year = First_Yes_Year)
spp<-as.data.frame(table(phenology$species))
d<-phenology%>%
filter(Year=="2010")%>%
group_by(species, Individual_ID, Phenophase_Description)%>%
arrange(Individual_ID) %>%
filter(row_number()==1) %>%
spread(Phenophase_Description, First_Yes_DOY)
d<-na.omit(d)
d$Risk <- d$Leaves - d$Budburst
d<-filter(d, Risk > 0)
d<-filter(d, Risk < 200)
sp<-as.data.frame(table(d$species))
df<- d %>%
select(species, Risk) %>%
group_by(species) %>%
summarise_each(funs(mean), Risk) %>%
arrange(species)
ggplot(df,aes(x=species,y=Risk, fill=factor(species))) +
geom_bar(stat = "identity" , position="dodge") +
xlab("Species")+ylab("Level of Risk")
ggplot(df,aes(x=species,y=Risk)) +
geom_bar(stat = "identity" , position="dodge") +
xlab("Species")+ylab("Level of Risk")
genus<- full_join(d, phenology)
View(genus)
genus<- full_join(phenology, d)
View(genus)
genus<-na.omit(genus)
genus$Risk <- genus$Leaves - genus$Budburst
genus<-filter(genus, Risk > 0)
genus<-filter(genus, Risk < 200)
View(genus)
genus<- full_join(phenology, d)
View(genus)
rm(list=ls()) # remove everything currently held in the R memory
options(stringsAsFactors=FALSE)
graphics.off()
# Load libraries
library(dplyr)
library(tidyr)
library(ggplot2)
# Set Working Directory
setwd("~/Documents/git/springfreeze")
phenology<-read.csv("input/individual_phenometrics_data.csv",header=TRUE, sep=",")
attach(phenology)
phases<-c("Budburst","Leaves")
pheno<-phenology%>%
select(Genus, Species, Individual_ID, Phenophase_Description, First_Yes_DOY, First_Yes_Year, Latitude, Longitude)%>%
unite(species, Genus, Species, sep="_") %>%
filter(Phenophase_Description %in% phases) %>%
rename(Year = First_Yes_Year)
spp<-as.data.frame(table(phenology$species))
d<-phenology%>%
filter(Year=="2010")%>%
group_by(species, Individual_ID, Phenophase_Description)%>%
arrange(Individual_ID) %>%
filter(row_number()==1) %>%
spread(Phenophase_Description, First_Yes_DOY)
d<-na.omit(d)
d$Risk <- d$Leaves - d$Budburst
d<-filter(d, Risk > 0)
d<-filter(d, Risk < 200)
sp<-as.data.frame(table(d$species))
df<- d %>%
select(species, Risk) %>%
group_by(species) %>%
summarise_each(funs(mean), Risk) %>%
arrange(species)
ggplot(df,aes(x=species,y=Risk, fill=factor(species))) +
geom_bar(stat = "identity" , position="dodge") +
xlab("Species")+ylab("Level of Risk")
genus<- full_join(pheno, d)
genus<-na.omit(genus)
genus$Risk <- genus$Leaves - genus$Budburst
genus<-filter(genus, Risk > 0)
genus<-filter(genus, Risk < 200)
rm(list=ls()) # remove everything currently held in the R memory
options(stringsAsFactors=FALSE)
graphics.off()
# Load libraries
library(dplyr)
library(tidyr)
library(ggplot2)
# Set Working Directory
setwd("~/Documents/git/springfreeze")
phenology<-read.csv("input/individual_phenometrics_data.csv",header=TRUE, sep=",")
attach(phenology)
phases<-c("Budburst","Leaves")
pheno<-phenology%>%
select(Genus, Species, Individual_ID, Phenophase_Description, First_Yes_DOY, First_Yes_Year, Latitude, Longitude)%>%
unite(species, Genus, Species, sep="_") %>%
filter(Phenophase_Description %in% phases) %>%
rename(Year = First_Yes_Year)
spp<-as.data.frame(table(phenology$species))
d<-pheno%>%
filter(Year=="2010")%>%
group_by(species, Individual_ID, Phenophase_Description)%>%
arrange(Individual_ID) %>%
filter(row_number()==1) %>%
spread(Phenophase_Description, First_Yes_DOY)
d<-na.omit(d)
d$Risk <- d$Leaves - d$Budburst
d<-filter(d, Risk > 0)
d<-filter(d, Risk < 200)
sp<-as.data.frame(table(d$species))
df<- d %>%
select(species, Risk) %>%
group_by(species) %>%
summarise_each(funs(mean), Risk) %>%
arrange(species)
ggplot(df,aes(x=species,y=Risk, fill=factor(species))) +
geom_bar(stat = "identity" , position="dodge") +
xlab("Species")+ylab("Level of Risk")
genus<- full_join(pheno, d)
genus<-na.omit(genus)
genus$Risk <- genus$Leaves - genus$Budburst
genus<-filter(genus, Risk > 0)
genus<-filter(genus, Risk < 200)
View(genus)
genus<- full_join(phenology, d)
genus<-na.omit(genus)
genus$Risk <- genus$Leaves - genus$Budburst
genus<-filter(genus, Risk > 0)
genus<-filter(genus, Risk < 200)
View(genus)
gen.dat<- genus %>%
select(Genus, species, Risk, Individual_ID)
View(gen.dat)
gen.dat<- genus %>%
select(Genus, species, Risk, Individual_ID) %>%
filter(row_number()==1)
View(gen.dat)
gen.dat<- genus %>%
select(Genus, species, Risk, Individual_ID) %>%
group_by(species, Risk, Individual_ID)%>%
filter(row_number()==1)
View(gen.dat)
gen<- gen.dat%>%
select(Genus, Risk) %>%
summarise_each(funs(mean), Risk)
View(gen)
gen<- gen.dat%>%
select(Genus, Risk) %>%
group_by(Genus) %>%
summarise_each(funs(mean), Risk)
arrange(Genus)
gen<- gen.dat%>%
select(Genus, Risk) %>%
group_by(Genus) %>%
summarise_each(funs(mean), Risk)%>%
arrange(Genus)
View(gen)
ggplot(df,aes(x=Genus,y=Risk, fill=factor(Genus))) +
geom_bar(stat = "identity" , position="dodge") +
xlab("Genus")+ylab("Level of Risk")
ggplot(gen,aes(x=Genus,y=Risk, fill=factor(Genus))) +
geom_bar(stat = "identity" , position="dodge") +
xlab("Genus")+ylab("Level of Risk")
