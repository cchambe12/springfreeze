print("False Spring")
}
}
rm(list=ls()) # remove everything currently held in the R memory
options(stringsAsFactors=FALSE)
graphics.off()
# Load libraries
library(dplyr)
library(tidyr)
library(ggplot2)
library(lubridate)
# Set Working Directory
setwd("~/Documents/git/springfreeze")
lat1<-read.csv("input/Lat.one.csv", header=TRUE)
# Dresden-Klotz(Germany): 54.38N, 10.15E
lat1<-lat1 %>%
select(DATE, TG, TN) %>%
rename(Tmean = TG) %>%
rename(Tmin = TN) %>%
rename(date = DATE)
lat1$year <- substr(lat1$date, 0, 4)
lat1<- filter(lat1, year>=1986)
lat1$month<- substr(lat1$date, 5, 6)
lat1$day<- substr(lat1$date, 7,8)
lat1<- lat1 %>%
select(-date)%>%
unite(date, year, month, day, sep="-") %>%
select(date, Tmean, Tmin)
lat1$doy<-yday(lat1$date)
lat1$year<-substr(lat1$date,0,4)
lat1<- lat1 %>%
filter(doy >= 60) %>%
filter(doy <= 181)
for(i in unique(lat1$year)){
lat1$warm <- sequence(rle(as.character(lat1$Tmean>0))$lengths)
lat1$gdd <- ifelse(lat1$warm>=7, TRUE, NA)
if( (lat1$gdd == TRUE)&&(lat1$Tmin< 0) ) {
print("False Spring")
}
for(i in unique(lat1$year)){
lat1$warm <- sequence(rle(as.character(lat1$Tmean>0))$lengths)
lat1$gdd <- ifelse(lat1$warm>=7, TRUE, NA)
if( (lat1$gdd == TRUE)&&(lat1$Tmin< 0) ) {
lat1$fsi <- print("False Spring")
}
}
View(lat1)
View(gdd)
View(gdd)
lat1$warm <- sequence(rle(as.character(lat1$Tmean>0))$lengths)
lat1$gdd <- ifelse(lat1$warm>=7, TRUE, NA)
)
lat1$warm <- sequence(rle(as.character(lat1$Tmean>0))$lengths)
lat1$gdd <- ifelse(lat1$warm>=7, TRUE, NA)
if( (lat1$gdd == TRUE)&&(lat1$Tmin< 0) ) {
lat1$fsi <- print("False Spring")
}
if( (lat1$gdd == "TRUE")&&(lat1$Tmin< 0) ) {
lat1$fsi <- print("False Spring")
}
if(gdd == TRUE & Tmin <= -2) y <- "false spring"
if(gdd == TRUE & lat1$Tmin <= -2) y <- "false spring"
lat1$fsi<- if( (lat1$gdd == "TRUE")&&(lat1$Tmin< 0) ) {
print("false spring") }
else {
print("no freeze")
}
lat1$fsi<- if( (lat1$gdd == "TRUE")&&(lat1$Tmin< 0) ) {
freeze}
comments = c("freeze","no freeze")
lat1$fsi <- if ((lat1$gdd == "TRUE") && (lat1$Tmin<0)) print(comments)
for(i in unique(lat1$year)){
lat1$fsi <- if ((lat1$gdd == "TRUE") && (lat1$Tmin<0)) print(comments[i])
}
for(i in unique(lat1$year)){
lat1$fsi <- while ((lat1$gdd == "TRUE") && (lat1$Tmin<0)) print(comments[i])
}
for(i in unique(lat1$year)){
lat1$fsi <- while (any(lat1$gdd == "TRUE") && any(lat1$Tmin<0)) print(comments[i])
}
for(i in unique(lat1$year)){
lat1$fsi <- while (any(lat1$gdd == "TRUE") && any(lat1$Tmin<0)) print(TRUE)
}
for(i in unique(lat1$year)){
lat1$fsi <- while (any(lat1$gdd [i] == "TRUE") && any(lat1$Tmin [i]<0)) print(TRUE)
}
for(i in unique(lat1$year)){
lat1$fsi<- if((lat1$gdd == "TRUE")&&(lat1$Tmin< 0)) {
"freeze"}
else {
print("no freeze")
}
}
for(i in unique(lat1$year)){
lat1$fsi<- if((lat1$gdd == "TRUE")&&(lat1$Tmin< 0)) {
TRUE}
else {
FALSE
}
}
lat1$warm <- sequence(rle(as.character(lat1$Tmean>0, TRUE, NA))$lengths)
View(lat1)
lat1$warm <- sequence(rle(as.character(ifelse(lat1$Tmean>0, TRUE, NA))))
for(i in unique(lat1$year)) {
lat1$warm <- sequence(rle(as.character(lat1$Tmean [i]>0))$lengths)
lat1$gdd <- ifelse(lat1$warm [i]>=7, TRUE, NA)
}
View(lat1)
for(i in unique(lat1$year)){
lat1$fsi<- ifelse((lat1$warm >= "7")&&(lat1$warm == 1), TRUE, FALSE)
}
View(lat1)
rm(list=ls()) # remove everything currently held in the R memory
options(stringsAsFactors=FALSE)
graphics.off()
# Load libraries
library(dplyr)
library(tidyr)
library(ggplot2)
library(lubridate)
# Set Working Directory
setwd("~/Documents/git/springfreeze")
lat1<-read.csv("input/Lat.one.csv", header=TRUE)
# Dresden-Klotz(Germany): 54.38N, 10.15E
lat1<-lat1 %>%
select(DATE, TG, TN) %>%
rename(Tmean = TG) %>%
rename(Tmin = TN) %>%
rename(date = DATE)
lat1$year <- substr(lat1$date, 0, 4)
lat1<- filter(lat1, year>=1986)
lat1$month<- substr(lat1$date, 5, 6)
lat1$day<- substr(lat1$date, 7,8)
lat1<- lat1 %>%
select(-date)%>%
unite(date, year, month, day, sep="-") %>%
select(date, Tmean, Tmin)
lat1$doy<-yday(lat1$date)
lat1$year<-substr(lat1$date,0,4)
lat1<- lat1 %>%
filter(doy >= 60) %>%
filter(doy <= 181)
lat1$warm <- sequence(rle(as.character(lat1$Tmean [i]>0))$lengths)
lat1$gdd <- ifelse(lat1$warm [i]>=7, TRUE, NA)
lat1$warm <- sequence(rle(as.character(lat1$Tmean>0))$lengths)
lat1$gdd <- ifelse(lat1$warm>=7, TRUE, NA)
for(i in unique(lat1$year)){
lat1$fsi<- ifelse((lat1$warm >= "7")&&(lat1$warm == 1), TRUE, FALSE)
}
View(lat1)
for(i in unique(lat1$year)){
lat1$fsi<- ifelse((lat1$gdd [i] >= "TRUE")&&(lat1$Tmin <= -2), TRUE, FALSE)
}
View(lat1)
for(i in unique(lat1$year)){
lat1$fsi<- ifelse((lat1$gdd [i] >= "TRUE")&&(lat1$Tmin [i] < 0), TRUE, FALSE)
}
View(lat1)
for(i in unique(lat1$year)){
lat1$fsi<- ifelse((lat1$gdd >= "TRUE")&&(lat1$Tmin < 0), TRUE, FALSE)
}
View(lat1)
for(i in unique(lat1$year)){
lat1$fsi<- ifelse((lat1$gdd >= TRUE)&&(lat1$Tmin < 0), TRUE, FALSE)
}
View(lat1)
setwd("~/Documents/git/springfreeze")
lat1<-read.csv("input/Lat.one.csv", header=TRUE)
# Dresden-Klotz(Germany): 54.38N, 10.15E
lat1<-lat1 %>%
select(DATE, TG, TN) %>%
rename(Tmean = TG) %>%
rename(Tmin = TN) %>%
rename(date = DATE)
lat1$year <- substr(lat1$date, 0, 4)
lat1<- filter(lat1, year>=1986)
lat1$month<- substr(lat1$date, 5, 6)
lat1$day<- substr(lat1$date, 7,8)
lat1<- lat1 %>%
select(-date)%>%
unite(date, year, month, day, sep="-") %>%
select(date, Tmean, Tmin)
lat1$doy<-yday(lat1$date)
lat1$year<-substr(lat1$date,0,4)
lat1<- lat1 %>%
filter(doy >= 60) %>%
filter(doy <= 181)
lat1$warm <- sequence(rle(as.character(lat1$Tmean>0))$lengths)
lat1$gdd <- ifelse(lat1$warm>=7, TRUE, NA)
lat1$fsi<- ifelse((lat1$gdd >= TRUE)&&(lat1$Tmin < 0), TRUE, FALSE)
View(lat1)
lat1$fsi<- ifelse((lat1$gdd>= "TRUE"), TRUE, NA) {
ifelse((lat1$Tmin<0), "freeze", NA)
}
lat1$fsi<- ifelse((lat1$gdd>= "TRUE"), TRUE, NA) &&
ifelse((lat1$Tmin<0), "freeze", NA)
View(lat1)
for(i in unique(lat$year)){
lat1$fsi<- ifelse((lat1$gdd>= "TRUE"), TRUE, NA) {
ifelse((lat1$Tmin<0), "freeze", NA)
}
}
for(i in unique(lat$year)){
lat1$fsi<- ifelse((lat1$gdd[i]>= "TRUE"), TRUE, NA) {
ifelse((lat1$Tmin[i]<0), "freeze", NA)
}
}
lat1$fsi<- ifelse((lat1$gdd>= "TRUE"), TRUE, NA) {
ifelse((lat1$Tmin<0), "freeze", NA)
lat1$fsi<- ifelse((lat1$gdd>= "TRUE"), TRUE, NA) && ifelse((lat1$Tmin<0), "freeze", NA)
lat1$fsi<- ifelse((lat1$gdd>= "TRUE"), TRUE, NA) y && ifelse((lat1$Tmin<0), "freeze", NA) y
for(i in unique(lat$year)){
lat1$fsi<- ifelse((lat1$gdd>= "TRUE"), TRUE, NA) y && ifelse((lat1$Tmin<0), "freeze", NA)
}
print[i]
setwd("~/Documents/git/springfreeze")
lat1<-read.csv("input/Lat.one.csv", header=TRUE)
# Dresden-Klotz(Germany): 54.38N, 10.15E
lat1<-lat1 %>%
select(DATE, TG, TN) %>%
rename(Tmean = TG) %>%
rename(Tmin = TN) %>%
rename(date = DATE)
lat1$year <- substr(lat1$date, 0, 4)
lat1<- filter(lat1, year>=1986)
lat1$month<- substr(lat1$date, 5, 6)
lat1$day<- substr(lat1$date, 7,8)
lat1<- lat1 %>%
select(-date)%>%
unite(date, year, month, day, sep="-") %>%
select(date, Tmean, Tmin)
lat1$doy<-yday(lat1$date)
lat1$year<-substr(lat1$date,0,4)
lat1<- lat1 %>%
filter(doy >= 60) %>%
filter(doy <= 181)
lat1$warm <- sequence(rle(as.character(lat1$Tmean>0))$lengths)
lat1$gdd <- ifelse(lat1$warm>=7, TRUE, NA)
for(i in unique(lat$year)){
lat1$fsi<- ifelse((lat1$gdd>= "TRUE"), TRUE, NA) y && ifelse((lat1$Tmin<0), "freeze", NA)
}
for(i in unique(lat$year)){
lat1$fsi<- ifelse((lat1$gdd>= "TRUE"), TRUE, NA)  && ifelse((lat1$Tmin<0), "freeze", NA)
}
for(i in unique(lat1$year)){
lat1$fsi<- ifelse((lat1$gdd>= "TRUE"), TRUE, NA)  && ifelse((lat1$Tmin<0), "freeze", NA)
}
for(i in unique(lat1$year)){
lat1$fsi<- ifelse((lat1$gdd>= "TRUE"), TRUE, NA)
lat1$fsi<- ifelse((lat1$Tmin<0), "freeze", NA)
}
print[i]
View(lat1)
rm(list=ls()) # remove everything currently held in the R memory
options(stringsAsFactors=FALSE)
graphics.off()
# Load libraries
library(dplyr)
library(tidyr)
library(ggplot2)
library(lubridate)
# Set Working Directory
setwd("~/Documents/git/springfreeze")
lat1<-read.csv("input/Lat.one.csv", header=TRUE)
# Dresden-Klotz(Germany): 54.38N, 10.15E
lat1<-lat1 %>%
select(DATE, TG, TN) %>%
rename(Tmean = TG) %>%
rename(Tmin = TN) %>%
rename(date = DATE)
lat1$year <- substr(lat1$date, 0, 4)
lat1<- filter(lat1, year>=1986)
lat1$month<- substr(lat1$date, 5, 6)
lat1$day<- substr(lat1$date, 7,8)
lat1<- lat1 %>%
select(-date)%>%
unite(date, year, month, day, sep="-") %>%
select(date, Tmean, Tmin)
lat1$doy<-yday(lat1$date)
lat1$year<-substr(lat1$date,0,4)
lat1<- lat1 %>%
filter(doy >= 60) %>%
filter(doy <= 181)
lat1$warm <- sequence(rle(as.character(lat1$Tmean>0))$lengths)
lat1$gdd <- ifelse(lat1$warm>=7, TRUE, NA)
for(i in unique(lat1$year)){
lat1$fsi<- ifelse((lat1$gdd>= "TRUE"), TRUE, NA)
lat1$frz<- ifelse((lat1$Tmin<0), "freeze", NA)
lat1$fs<- ifelse((lat1$gdd == "TRUE")&&(lat1$frz == "freeze"), TRUE, FALSE)
}
View(lat1)
for(i in unique(lat1$date)){
lat1$fsi<- ifelse((lat1$gdd[i]>= "TRUE"), TRUE, NA)
lat1$frz<- ifelse((lat1$Tmin[i]<0), "freeze", NA)
lat1$fs<- ifelse((lat1$fsi[i] == "TRUE")&&(lat1$frz [i] == "freeze"), TRUE, FALSE)
}
View(lat1)
for(i in unique(lat1$date)){
lat1$fsi<- ifelse((lat1$gdd>= "TRUE"), TRUE, NA)
lat1$frz<- ifelse((lat1$Tmin<0), "freeze", NA)
lat1$fs<- ifelse((lat1$fsi[i] == "TRUE")&&(lat1$frz [i] == "freeze"), TRUE, FALSE)
}
View(lat1)
for(i in unique(lat1$date)){
lat1$frz<- ifelse((lat1$Tmin<0), "freeze", NA)
lat1$fs<- ifelse((lat1$gdd == "TRUE" && lat1$frz [i] == "freeze"), TRUE, FALSE)
}
View(lat1)
setwd("~/Documents/git/springfreeze")
lat1<-read.csv("input/Lat.one.csv", header=TRUE)
# Dresden-Klotz(Germany): 54.38N, 10.15E
lat1<-lat1 %>%
select(DATE, TG, TN) %>%
rename(Tmean = TG) %>%
rename(Tmin = TN) %>%
rename(date = DATE)
lat1$year <- substr(lat1$date, 0, 4)
lat1<- filter(lat1, year>=1986)
lat1$month<- substr(lat1$date, 5, 6)
lat1$day<- substr(lat1$date, 7,8)
lat1<- lat1 %>%
select(-date)%>%
unite(date, year, month, day, sep="-") %>%
select(date, Tmean, Tmin)
lat1$doy<-yday(lat1$date)
lat1$year<-substr(lat1$date,0,4)
lat1<- lat1 %>%
filter(doy >= 60) %>%
filter(doy <= 181)
lat1$warm <- sequence(rle(as.character(lat1$Tmean>0))$lengths)
lat1$gdd <- ifelse(lat1$warm>=7, TRUE, NA)
lat1$frz<- ifelse((lat1$Tmin<0), "freeze", NA)
lat1$fs<- ifelse((lat1$gdd == "TRUE" && lat1$frz == "freeze"), TRUE, FALSE)
View(lat1)
lat1$fs<- ifelse((lat1$gdd = "TRUE" & lat1$frz = "freeze"), TRUE, FALSE)
lat1$fs<- ifelse((lat1$gdd == "TRUE" & lat1$frz == "freeze"), TRUE, FALSE)
View(lat1)
dk.count<- lat1 %>%
select(year, fs)
View(dk.count)
dk.count<- select(lat1, year, fs)
dk.count<-na.omit(dk.count)
View(dk.count)
dk.count<-filter(dk.count,row_number()==1)
View(dk.count)
dk.count<-filter(dk.count$year,row_number()==1)
dk.count<- select(lat1, year, fs)
dk.count<-na.omit(dk.count)
dk.count<-filter(dk.count$year,row_number()==1)
dk.count<- lat1 %>%
select(year,fs)%>%
na.omit(fs) %>%
as.data.frame(table(dk.count$year))
dk.count<- select(lat1, year, fs)
dk.count<-na.omit(dk.count)
dk.count<-as.data.frame(table(dk.count$year))
View(dk.count)
rm(list=ls()) # remove everything currently held in the R memory
options(stringsAsFactors=FALSE)
graphics.off()
# Load libraries
library(dplyr)
library(tidyr)
library(ggplot2)
library(lubridate)
# Set Working Directory
setwd("~/Documents/git/springfreeze")
lat1<-read.csv("input/Lat.one.csv", header=TRUE)
lat1<-lat1 %>%
select(DATE, TG, TN) %>%
rename(Tmean = TG) %>%
rename(Tmin = TN) %>%
rename(date = DATE)
lat1$year <- substr(lat1$date, 0, 4)
lat1<- filter(lat1, year>=1986)
lat1$month<- substr(lat1$date, 5, 6)
lat1$day<- substr(lat1$date, 7,8)
lat1<- lat1 %>%
select(-date)%>%
unite(date, year, month, day, sep="-") %>%
select(date, Tmean, Tmin)
lat1$doy<-yday(lat1$date)
lat1$year<-substr(lat1$date,0,4)
lat1$gdd<- lat1$Tmean - 10
View(lat1)
lat1$gdd <-ifelse((lat1$gdd>0, lat1$gdd, NA)
lat1$gdd <-ifelse((lat1$gdd>0) lat1$gdd, NA)
lat1$gdd <-ifelse(lat1$gdd>0 lat1$gdd, NA)
lat1$gdd <-ifelse(lat1$gdd>0, lat1$gdd, NA)
View(lat1)
lat1$warm <- sequence(rle(as.character(lat1$gdd>0))$lengths)
View(lat1)
lat1$warm <- count(lat1$gdd)
lat1$warm <- length(which(lat1$gdd>0))
lat1$warm <- count(lat1$gdd)
lat1<-lat1 %>%
select(DATE, TG, TN) %>%
rename(Tmean = TG) %>%
rename(Tmin = TN) %>%
rename(date = DATE)
lat1$year <- substr(lat1$date, 0, 4)
lat1<- filter(lat1, year>=1986)
lat1$month<- substr(lat1$date, 5, 6)
lat1$day<- substr(lat1$date, 7,8)
lat1<- lat1 %>%
select(-date)%>%
unite(date, year, month, day, sep="-") %>%
select(date, Tmean, Tmin)
lat1$doy<-yday(lat1$date)
lat1$year<-substr(lat1$date,0,4)
lat1$gdd <- lat1$Tmean - 10
lat1$gdd <-ifelse(lat1$gdd>0, lat1$gdd, NA)
lat1$warm <- count(lat1$gdd)
lat1$warm <- count(lat1, c("gdd", "year")
)
warm<- as.data.frame(table(count(lat1$gdd)))
warm<- as.data.frame(table(lat1$gdd)))
warm<- as.data.frame(table(lat1$gdd))
View(warm)
warm<- as.data.frame(count(lat1, gdd~year)))
warm<- as.data.frame(count(lat1, gdd~year))
warm<- as.data.frame(count(lat1, gdd, year))
View(warm)
lat1<-lat1 %>%
select(DATE, TG, TN) %>%
rename(Tmean = TG) %>%
rename(Tmin = TN) %>%
rename(date = DATE)
lat1$year <- substr(lat1$date, 0, 4)
lat1<- filter(lat1, year>=1986)
lat1$month<- substr(lat1$date, 5, 6)
lat1$day<- substr(lat1$date, 7,8)
lat1<- lat1 %>%
select(-date)%>%
unite(date, year, month, day, sep="-") %>%
select(date, Tmean, Tmin)
lat1$doy<-yday(lat1$date)
lat1$year<-substr(lat1$date,0,4)
lat1$gdd <- lat1$Tmean - 10
lat1$gdd <-ifelse(lat1$gdd>0, lat1$gdd, NA)
warm<- as.data.frame(count(lat1, gdd, year))
View(warm)
warm<- as.data.frame(count(lat1, c("gdd", "year")))
warm<- count(lat1, c("gdd", "year"))
warm<- aggregate(lat1, c("gdd", "year"))
warm<- aggregate(gdd ~ year, data = lat1, FUN = length)
View(warm)
lat1$warm<- aggregate(gdd ~ year, data = lat1, FUN = length)
1
lat1$warm<- aggregate(lat1$gdd, FUN = length)
lat1$warm<- aggregate(gdd~date, data= lat1, FUN = length)
# Clear workspace
rm(list=ls()) # remove everything currently held in the R memory
options(stringsAsFactors=FALSE)
graphics.off()
setwd("~/Documents/git/springfreeze")
lat1<-read.csv("input/Lat.one.csv", header=TRUE)
lat1<-lat1 %>%
select(DATE, TG, TN) %>%
rename(Tmean = TG) %>%
rename(Tmin = TN) %>%
rename(date = DATE)
lat1$year <- substr(lat1$date, 0, 4)
lat1<- filter(lat1, year>=1986)
lat1$month<- substr(lat1$date, 5, 6)
lat1$day<- substr(lat1$date, 7,8)
lat1<- lat1 %>%
select(-date)%>%
unite(date, year, month, day, sep="-") %>%
select(date, Tmean, Tmin)
lat1$doy<-yday(lat1$date)
lat1$year<-substr(lat1$date,0,4)
lat1$gdd <- lat1$Tmean - 10
lat1$gdd <-ifelse(lat1$gdd>0, lat1$gdd, NA)
warm<- aggregate(lat1, c("gdd", "year"))
lat1$warm<- aggregate(gdd~date, data= lat1, FUN = length)
lat1$warm<- aggregate(gdd, data= lat1, FUN = length)
lat1$warm<- summarise(lat1$gdd = n())
lat1$warm<- count(gdd)
lat1$warm<- count(lat1$gdd)
lat1$warm<- tally(group_by(date, lat1$gdd))
lat1$warm<- tally(lat1$gdd)
lat1$warm<- tally(lat1, gdd)
lat1$warm<- colSums(lat1, gdd)
lat1$warm<- colSums(lat1$gdd)
lat1$warm<- colSums(lat1, lat1$gdd)
lat1$warm<- colSums(lat1$gdd, lat1$year)
lat1$warm<- as.data.frame(table(lat1$gdd))
warm<- as.data.frame(table(lat1$gdd))
View(warm)
lat1$frz<- ifelse((lat1$Tmin<=-2), "freeze", NA)
View(lat1)
lat1$gdd<- ifelse(lat$gdd !is.na, 1, NA)
lat1$gdd<- ifelse(which(!is.na(lat1$gdd)), 1, NA)
lat1$warm<- ifelse(which(!is.na(lat1$gdd)), 1, NA)
lat1$warm<- ifelse(!is.na(lat1$gdd), 1, NA)
View(lat1)
lat1$count<- rowSums(lat1$gdd)
lat1$count<- colSums(lat1$gdd)
lat1$count<- rle(lat1$gdd>0)
View(lat1)
lat1$count<- rle(as.character(lat1$gdd==1))
View(lat1)
lat1$count<- sequence(rle(as.character(lat1$gdd==1))$lengths)
View(lat1)
lat1$count<- sequence(rle(as.character(lat1$gdd==1)))
lat1$count<- length(unique(lat1$gdd))
View(lat1)
View(lat1)
for(i in 1:nrow(lat1)){
lat1$count<- data[i, "gdd"] = i
}
